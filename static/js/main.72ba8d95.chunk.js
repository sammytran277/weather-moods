(this["webpackJsonpweather-moods"]=this["webpackJsonpweather-moods"]||[]).push([[0],{35:function(e,t,a){e.exports=a.p+"static/media/clear.bea32658.svg"},42:function(e,t,a){e.exports=a.p+"static/media/logo.e5f2b478.svg"},48:function(e,t,a){e.exports=a.p+"static/media/clouds.d0001cd6.svg"},49:function(e,t,a){e.exports=a.p+"static/media/rain.5cde9c93.svg"},50:function(e,t,a){e.exports=a.p+"static/media/snow.546540b4.svg"},54:function(e,t,a){e.exports=a(78)},59:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},66:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c);a(59),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(38),i=a(11),l=a.n(i),u=a(16),m=a(12),h=a(82),f=(a(61),a(62),a(85)),p=a(84),d=a(42),g=a.n(d),E=function(){return r.a.createElement(f.a,{className:"custom-header",expand:"lg"},r.a.createElement(f.a.Brand,{href:"/weather-moods/"},r.a.createElement("img",{src:g.a,alt:"Weather Moods logo",width:"40",height:"40"}),r.a.createElement(f.a.Text,{className:"text-white ml-3"},"Weather Moods")),r.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(p.a,{className:"ml-auto"},r.a.createElement(p.a.Link,{className:"text-white",href:"/weather-moods/"},"Home"),r.a.createElement(p.a.Link,{className:"text-white",href:"/weather-moods/about"},"About"),r.a.createElement(p.a.Link,{className:"text-white",href:"/weather-moods/contact"},"Contact"))))},b=(a(66),a(83)),w=a(80),v=a(17),y=a(28),N=["All Genres","Hip-Hop","Pop","Techno","R&B","Punk","Country","Indie Rock","Latin","Jazz","Christian"],k=function(e){var t=e.setGenre,a=e.setUserInput,n=e.handleSubmit;return r.a.createElement("div",{className:"search-container"},r.a.createElement("h1",{className:"text-white mb-5 text-center"},"Need music based on the weather?"),r.a.createElement(b.a,{onSubmit:function(e){return n(e)}},r.a.createElement(b.a.Group,null,r.a.createElement(b.a.Label,{className:"text-white"},"1. Select your music genre"),r.a.createElement(b.a.Control,{as:"select",onChange:function(e){return t(e.target.value)}},N.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement(b.a.Group,null,r.a.createElement(b.a.Label,{className:"text-white"},"2. Enter your city"),r.a.createElement(w.a,{onChange:function(e){return a(e.target.value)}},r.a.createElement(b.a.Control,{type:"text",placeholder:"City"}),r.a.createElement(w.a.Append,{onClick:function(e){return n(e)},className:"magnifying-glass-container"},r.a.createElement(w.a.Text,null,r.a.createElement(v.a,{icon:y.b})))))))},x=(a(70),a(86)),j=a(87),O=a(81),C=(a(71),a(35)),S=a.n(C),T=a(48),M=a.n(T),G=a(49),L=a.n(G),A=a(50),B=a.n(A),F=function(e){var t=e.data,a=e.unit,n=e.onclick,c=function(e){return"F"===a?Math.round(e):Math.round(5*(e-32)/9)};return r.a.createElement(x.a.Toggle,{className:"accordion-btn",eventKey:"0",onClick:n},r.a.createElement(j.a.Title,{className:"day"},function(){switch(new Date(1e3*t.dt).getDay()){case 0:return"Sun";case 1:return"Mon";case 2:return"Tue";case 3:return"Wed";case 4:return"Thu";case 5:return"Fri";case 6:return"Sat";default:return"Error"}}()),r.a.createElement("img",{className:"weather-icon",src:function(){switch(t.weather[0].main.toLowerCase()){case"clear":return S.a;case"clouds":return M.a;case"rain":return L.a;case"snow":return B.a;default:return S.a}}(),alt:t.weather[0].main.toLowerCase(),height:"50",width:"50"}),r.a.createElement("div",{className:"temp-container"},r.a.createElement("span",{className:"temp-high"},c(t.temp.max)," \xb0",a),r.a.createElement("span",{className:"temp-low ml-2"},c(t.temp.min)," \xb0",a)),r.a.createElement(v.a,{className:"arrow-down",icon:y.a}))},H=(a(72),function(e){return r.a.createElement("div",{className:"music-suggestion-container"},r.a.createElement("div",{className:"suggestion-container"},r.a.createElement("h2",null,"For a day like this, try listening to:"),r.a.createElement("h5",{className:"font-weight-light"},e.song.songName," by ",e.song.artistName)),r.a.createElement("iframe",{className:"spotify-widget",src:"https://open.spotify.com/embed/track/".concat(e.song.uri),width:"300",height:"380",frameborder:"0",allowtransparency:"true",allow:"encrypted-media"}))}),I=function(e){var t=Object(n.useState)(e.songs[0]),a=Object(m.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)("F"),i=Object(m.a)(s,2),l=i[0],u=i[1];return r.a.createElement(x.a,null,r.a.createElement(j.a,null,r.a.createElement(j.a.Header,null,r.a.createElement("h2",{className:"mt-3 text-center"},"Seven day weather forecast for",r.a.createElement("span",{className:"city"}," "+e.city+", ")," in",r.a.createElement("span",{className:"F"===l?"":"inactive",style:{cursor:"pointer"},onClick:function(){return u("F")}}," ","\xb0F"," ")," ","|",r.a.createElement("span",{className:"C"===l?" ":"inactive",style:{cursor:"pointer"},onClick:function(){return u("C")}}," ","\xb0C"),":"),r.a.createElement(O.a,{className:"weather-container"},(console.log("Songs: "+e.songs),console.log("The active song:"+c),e.data.daily.slice(0,7).map((function(t,a){return r.a.createElement(F,{key:t.dt,data:t,unit:l,onclick:function(){return t=a,console.log("Switching to "+t),console.log(e.songs[t]),void o(e.songs[t]);var t}})}))))),r.a.createElement(x.a.Collapse,{eventKey:"0"},r.a.createElement(j.a.Body,null,r.a.createElement(H,{song:c})))))},P=(a(73),a(51)),W=function(){return r.a.createElement(f.a,{className:"custom-footer justify-content-center",expand:"lg"},r.a.createElement(f.a.Text,{className:"text-white"},"Made with ",r.a.createElement("span",{className:"heart"},"\u2665")," by Sammy Tran",r.a.createElement("a",{href:"https://github.com/sammytran277/weather-moods",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(v.a,{className:"ml-2",icon:P.a,color:"white"}))))},_="https://weather-moods-api.herokuapp.com",z={"All Genres":34,"Hip-Hop":1073,Pop:14,Techno:1050,"R&B":15,Punk:1006,Country:6,"Indie Rock":1004,Latin:12,Jazz:11,Christian:22},J=function(){var e=Object(n.useState)("All Genres"),t=Object(m.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),i=Object(m.a)(o,2),f=i[0],p=i[1],d=Object(n.useState)(""),g=Object(m.a)(d,2),b=g[0],w=g[1],v=Object(n.useState)(null),y=Object(m.a)(v,2),N=y[0],x=y[1],j=Object(n.useState)([]),O=Object(m.a)(j,2),C=O[0],S=O[1],T=Object(n.useState)([]),M=Object(m.a)(T,2),G=M[0],L=M[1],A=Object(n.useState)([{songName:"",artistName:"",uri:""}]),B=Object(m.a)(A,2),F=B[0],H=B[1],P=Object(n.useState)(!1),J=Object(m.a)(P,2),R=J[0],D=J[1],U=function(){var e=Object(u.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t||""===a){e.next=3;break}return e.next=3,$(a);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),K=function(e){for(var t=e.daily,a=[],n=0;n<7;n++)a.push(t[n].weather[0].main);return a},$=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),a="".concat(_,"/api/weather/").concat(t),e.next=4,fetch(a).then((function(e){if(e.ok)return e.json()})).catch((function(e){console.log(e)}));case 4:n=e.sent,x(n),S(K(n));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(s.a)(C),a=0;case 2:if(!(a<C.length)){e.next=9;break}return e.next=5,Q(C[a]);case 5:t[a]=e.sent;case 6:a++,e.next=2;break;case 9:L(t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[C]),Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=G.length){e.next=3;break}return console.log("Something went wrong with suggestions"),e.abrupt("return");case 3:t=Object(s.a)(G),a=0;case 5:if(!(a<t.length)){e.next=12;break}return e.next=8,q(t[a].artistName,t[a].songName);case 8:t[a].uri=e.sent;case 9:a++,e.next=5;break;case 12:H(t);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[G]);var q=function(){var e=Object(u.a)(l.a.mark((function e(t,a){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(_,"/api/identifier/").concat(t,"/").concat(a),e.next=3,fetch(n).then((function(e){if(e.ok)return e.json()})).catch((function(e){console.log(e)}));case 3:return""!==(r=e.sent).uri&&(r.uri=r.uri.split(":")[2]),e.abrupt("return",r.uri);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Q=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(_,"/api/music/").concat(t,"/").concat(z[a]),e.next=3,fetch(n).then((function(e){if(e.ok)return e.json()})).catch((function(e){console.log(e)}));case 3:return r=e.sent,console.log(r),e.abrupt("return",V(r.message.body.track_list));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(e){for(var t=Math.floor(Math.random()*e.length),a=e[t].track.track_name;0!==G.filter((function(e){return e.songName===a})).length;)t=Math.floor(Math.random()*e.length),a=e[t].track.track_name;var n=e[t].track.artist_name;return{songName:a,artistName:n}};return r.a.createElement("div",null,r.a.createElement(E,null),r.a.createElement(k,{setGenre:c,setUserInput:w,handleSubmit:function(e){e.preventDefault(),p(b),U(a,b)}}),null!==N?r.a.createElement(I,{city:f,data:N,songs:F}):R?r.a.createElement("div",{className:"loading"},"Getting your weather data...",r.a.createElement(h.a,{className:"ml-3 loading-spinner",animation:"border"})):r.a.createElement("div",{className:"loading"}),r.a.createElement(W,null))},R=(a(74),function(){return r.a.createElement("div",null,r.a.createElement(E,null),r.a.createElement("h1",null,"ABOUT PAGE"),r.a.createElement(W,null))}),D=(a(75),function(){return r.a.createElement("div",null,r.a.createElement(E,null),r.a.createElement("h1",null,"CONTACT"),r.a.createElement(W,null))}),U=a(52),K=a(6);o.a.render(r.a.createElement(U.a,{basename:"/weather-moods"},r.a.createElement(K.a,{exact:!0,path:"/",component:J}),r.a.createElement(K.a,{path:"/about",component:R}),r.a.createElement(K.a,{path:"/contact",component:D})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.72ba8d95.chunk.js.map